<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>转换rem</title>
        <style media="screen">
            .mian textarea {
                width: 400px;
                height: 300px;
            }
        </style>
    </head>
    <body>
        <div class="mian">
            <textarea class="text"  name="name" rows="25" cols="220" autofocus></textarea>
        </div>
        <div class="show">

        </div>
        <script type="text/javascript">
        var e = function(e){
            return document.querySelector(e)
        }

        var ab = function(str) {
            var arr1 = str.split('rpx')
            var arr2 = []
            for (var i = 0; i < arr1.length; i++) {
                var a = arr1[i].split(':')
                var b = a[a.length-1]
                if (isNaN(parseInt(b,10))) {
                    var num = b
                }else {
                    var num = parseInt(b,10) / 40
                }
                a[a.length-1] = String(num)
                var c = a.join(':')
                arr2.push(c)
                console.log('参数分别是',a,b,num,c);
            }
            var rul = arr2.join('rem')
                console.log('最后合成的字符串是',rul);
            return rul

        }

        e('.text').addEventListener('blur',function(event){
            var self =event.target
             va = self.value
             var se = ab(va)
            console.log(self.value);


             e('.show').innerText = se


        })



        </script>
    </body>
</html>
